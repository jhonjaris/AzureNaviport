{% extends 'base.html' %}
{% load static %}

{% block title %}Eliminar {{ persona.nombre_completo }} | NaviPort RD{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}

{% block content %}
<div class="content-area">
    <div class="page-header">
        <div>
            <h2 style="color: #e74c3c; margin-bottom: 10px;">üóëÔ∏è Eliminar Persona</h2>
            <p style="color: #7f8c8d;">Confirmar eliminaci√≥n de {{ persona.nombre_completo }}</p>
        </div>
        <div class="header-actions">
            <a href="{% url 'gestion_personal:detalle_persona' persona.id %}" class="btn btn-secondary">‚Üê Cancelar</a>
        </div>
    </div>

    <div class="form-container">
        <div class="form-card" style="border-left: 4px solid #e74c3c;">
            <div class="form-section">
                <div class="alert alert-danger" role="alert">
                    <h4 class="alert-heading">‚ö†Ô∏è Advertencia</h4>
                    <p><strong>Esta acci√≥n marcar√° la persona como inactiva</strong> en el sistema. Los datos no se eliminar√°n permanentemente, pero la persona no aparecer√° en las listas activas.</p>
                    <hr>
                    <p class="mb-0">¬øEst√° seguro de que desea continuar?</p>
                </div>

                <h3>üë§ Informaci√≥n de la Persona</h3>

                <div class="detail-grid" style="grid-template-columns: 1fr;">
                    <div class="detail-card">
                        <div class="detail-content">
                            <div class="detail-row">
                                <span class="detail-label">Nombre Completo:</span>
                                <span class="detail-value"><strong>{{ persona.nombre_completo }}</strong></span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">C√©dula:</span>
                                <span class="detail-value">{{ persona.cedula }}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Empresa:</span>
                                <span class="detail-value">
                                    <span class="badge bg-primary">
                                        {{ persona.empresa.empresa.nombre|default:'Sin empresa' }}
                                    </span>
                                </span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Tel√©fono:</span>
                                <span class="detail-value">{{ persona.telefono|default:'No especificado' }}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Email:</span>
                                <span class="detail-value">{{ persona.email|default:'No especificado' }}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Fecha de Registro:</span>
                                <span class="detail-value">{{ persona.fecha_registro|date:'d/m/Y H:i' }}</span>
                            </div>
                            {% if persona.documentos.count > 0 %}
                            <div class="detail-row">
                                <span class="detail-label">Documentos:</span>
                                <span class="detail-value">{{ persona.documentos.count }} documento(s) asociado(s)</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <form method="post" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger">üóëÔ∏è Confirmar Eliminaci√≥n</button>
                </form>
                <a href="{% url 'gestion_personal:detalle_persona' persona.id %}" class="btn btn-secondary">Cancelar</a>
                <a href="{% url 'gestion_personal:dashboard' %}" class="btn btn-info">‚Üê Volver al Dashboard</a>
            </div>
        </div>
    </div>
</div>

<style>
.detail-grid {
    display: grid;
    gap: 20px;
    margin-top: 20px;
}

.detail-card {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    overflow: hidden;
}

.detail-content {
    padding: 20px;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #f5f5f5;
}

.detail-row:last-child {
    border-bottom: none;
}

.detail-label {
    font-weight: 500;
    color: #2c3e50;
    min-width: 150px;
}

.detail-value {
    color: #34495e;
    text-align: right;
}

.alert-danger {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
}
</style>
{% endblock %}